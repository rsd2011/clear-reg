/* ============================================================================
   View Transition API - í…Œë§ˆ ì „í™˜ ì• ë‹ˆë©”ì´ì…˜
   ============================================================================
 *
 * ğŸ“¦ ë¶„ë¦¬ë¨: main.cssì—ì„œ base/_transitions.cssë¡œ ì´ë™ (2024-12)
 *
 * ê¸°ëŠ¥:
 * - View Transition APIë¥¼ í™œìš©í•œ ë¶€ë“œëŸ¬ìš´ í…Œë§ˆ ì „í™˜
 * - FOUC(Flash of Unstyled Content) ë°©ì§€
 * - ì ‘ê·¼ì„±ì„ ìœ„í•œ ì¤„ì„ ëª¨ì…˜ ì§€ì›
 */

/* ê¸°ë³¸ í…Œë§ˆ ì „í™˜ ë³€ìˆ˜ */
:root {
  --theme-toggle-x: 50%;
  --theme-toggle-y: 50%;
  /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     ğŸ†• FOUC ë°©ì§€: light-dark()ë¡œ ì‹œìŠ¤í…œ ê¸°ë³¸ê°’ ì²˜ë¦¬
     â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   * JavaScript ì‹¤í–‰ ì „ì—ë„ ì‹œìŠ¤í…œ ì„¤ì •ì— ë”°ë¼ ì ì ˆí•œ ìƒ‰ìƒì´ í‘œì‹œë¨
   * ë¸Œë¼ìš°ì € ì§€ì›: Chrome 123+, Firefox 120+, Safari 17.5+ (2024.05~)
   */
  color-scheme: light dark; /* light-dark() í•¨ìˆ˜ê°€ ì‹œìŠ¤í…œ ì„¤ì •ì„ ìë™ ê°ì§€ */

  /* ì‹œìŠ¤í…œ ê¸°ë³¸ ë°°ê²½/í…ìŠ¤íŠ¸ - JavaScript ë¡œë“œ ì „ FOUC ë°©ì§€ */
  --system-bg: light-dark(#ffffff, #121212);
  --system-text: light-dark(#1f2937, #f9fafb);
  --system-border: light-dark(#e5e7eb, #374151);
}

/* ì‹œìŠ¤í…œ ê¸°ë³¸ê°’ ì ìš© (JavaScript ë¡œë“œ ì „) */
html:not([class*="theme-"]) {
  background-color: var(--system-bg);
  color: var(--system-text);
}

html:not([class*="theme-"]) body {
  background-color: var(--system-bg);
  color: var(--system-text);
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   View Transition Animations
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

/* Old view (ë‚˜ê°€ëŠ” í…Œë§ˆ) - í˜ì´ë“œ ì•„ì›ƒ */
::view-transition-old(root) {
  animation: theme-fade-out 0.3s ease-out forwards;
  z-index: 1;
}

/* New view (ë“¤ì–´ì˜¤ëŠ” í…Œë§ˆ) - ë°©ì‚¬í˜• í´ë¦½ íŒ¨ìŠ¤ í™•ì‚° */
::view-transition-new(root) {
  animation: theme-clip-in 0.5s ease-out forwards;
  z-index: 2;
}

@keyframes theme-fade-out {
  from {
    opacity: 1;
    transform: scale(1);
  }
  to {
    opacity: 0;
    transform: scale(0.98);
  }
}

@keyframes theme-clip-in {
  from {
    clip-path: circle(0% at var(--theme-toggle-x) var(--theme-toggle-y));
  }
  to {
    clip-path: circle(150% at var(--theme-toggle-x) var(--theme-toggle-y));
  }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ëŒ€ì²´ ì• ë‹ˆë©”ì´ì…˜ (Alternative Animations)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

/* ìˆ˜í‰ ì™€ì´í”„ (ìŠ¬ë¼ì´ë“œ) */
@keyframes theme-wipe-in {
  from {
    clip-path: inset(0 100% 0 0);
  }
  to {
    clip-path: inset(0 0 0 0);
  }
}

/* ë‹¤ì´ì•„ëª¬ë“œ í™•ì‚° */
@keyframes theme-diamond-in {
  from {
    clip-path: polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%);
  }
  to {
    clip-path: polygon(50% -50%, 150% 50%, 50% 150%, -50% 50%);
  }
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   ì ‘ê·¼ì„± (Accessibility)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

/* ì¤„ì„ ëª¨ì…˜ ì„ í˜¸ ì‹œ ì• ë‹ˆë©”ì´ì…˜ ë¹„í™œì„±í™” */
@media (prefers-reduced-motion: reduce) {
  ::view-transition-group(*),
  ::view-transition-old(*),
  ::view-transition-new(*) {
    animation: none !important;
  }

  html {
    transition: none !important;
  }
}

/* ë‹¤í¬ëª¨ë“œ ì „í™˜ íŠ¸ëœì§€ì…˜ (í´ë°±) */
html {
  transition: background-color 0.3s ease, color 0.3s ease;
}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Color Scheme ê°•ì œ ì ìš©
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

/* ë‹¤í¬ëª¨ë“œ ê°•ì œ ì ìš© (ì‚¬ìš©ìê°€ ë‹¤í¬ëª¨ë“œ ì„ íƒ ì‹œ) */
.app-dark {
  color-scheme: dark;
}

/* ë¼ì´íŠ¸ëª¨ë“œ ê°•ì œ ì ìš© (ì‚¬ìš©ìê°€ ë¼ì´íŠ¸ëª¨ë“œ ì„ íƒ ì‹œ) */
.app-light {
  color-scheme: light;
}
